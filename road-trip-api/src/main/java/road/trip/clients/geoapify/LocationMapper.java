package road.trip.clients.geoapify;

import lombok.extern.log4j.Log4j2;
import org.json.simple.JSONArray;
import org.json.simple.JSONObject;
import org.json.simple.parser.JSONParser;
import org.json.simple.parser.ParseException;
import org.springframework.stereotype.Component;
import road.trip.api.location.response.LocationResponse;
import road.trip.persistence.models.Location;

import java.util.ArrayList;
import java.util.List;

@Log4j2
@Component
public class LocationMapper {
    public List<Location> getLocationsFromJSON(String json) {

        JSONParser parser = new JSONParser();

        List<Location> locations = new ArrayList<>();

        JSONObject jsonObject = null;
        try {
            jsonObject = (JSONObject) parser.parse(json);
        } catch (ParseException e) {
            throw new RuntimeException(e);
        }

        JSONArray array = (JSONArray) jsonObject.get("features");

        for(int i = 0; i < array.size(); i++){
            JSONObject properties = (JSONObject) ((JSONObject) array.get(i)).get("properties");
            String name = (String) properties.get("name");
            Double lon = (Double) properties.get("lon");
            Double lat = (Double) properties.get("lat");
            locations.add(Location
                            .builder()
                            .name(name)
                            .coordX(lon)
                            .coordY(lat)
                            .build());
        }
        return locations;
    }


    //TODO: Places doesn't provide a description
    //TODO: Places doesn't provide a rating and it's an int instead of Integer
    public List<LocationResponse> getLocationResponsesFromLocations(String json){
        List<LocationResponse> locationResponses = new ArrayList<>();
        List<Location> locations = getLocationsFromJSON(json);
        for(Location l : locations){
            LocationResponse locRes = new LocationResponse(l);
            if(locRes.getName() != null) { //Some responses have no name
                locationResponses.add(locRes);
            }
        }
        return locationResponses;
    }

    /*
    public static void main(String[] args) {
        try {
            String json = "{\"type\":\"FeatureCollection\",\"features\":[{\"type\":\"Feature\",\"properties\":{\"name\":\"EDEKA\",\"housenumber\":\"10\",\"street\":\"Josef-Dunau-Ring\",\"suburb\":\"Asbach\",\"city\":\"Asbach-Bäumenheim\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86663\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.81881479176283,\"lat\":48.68573055,\"formatted\":\"EDEKA, Josef-Dunau-Ring 10, 86663 Asbach-Bäumenheim, Germany\",\"address_line1\":\"EDEKA\",\"address_line2\":\"Josef-Dunau-Ring 10, 86663 Asbach-Bäumenheim, Germany\",\"categories\":[\"building\",\"building.commercial\",\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details\",\"details.building\",\"details.commercial\",\"details.contact\",\"details.facilities\",\"details.payment\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"EDEKA\",\"shop\":\"supermarket\",\"brand\":\"EDEKA\",\"phone\":\"+4990629006\",\"osm_id\":710603924,\"organic\":\"yes\",\"website\":\"https://www.edeka.de/eh/s%C3%BCdbayern/edeka-josef-dunau-ring-10/index.jsp\",\"building\":\"supermarket\",\"osm_type\":\"w\",\"stroller\":\"yes\",\"addr:city\":\"Asbach-Bäumenheim\",\"wheelchair\":\"yes\",\"addr:street\":\"Josef-Dunau-Ring\",\"second_hand\":\"no\",\"currency:EUR\":\"yes\",\"payment:cash\":\"yes\",\"payment:visa\":\"yes\",\"addr:postcode\":86663,\"opening_hours\":\"Mo-Sa 07:00-20:00\",\"payment:coins\":\"yes\",\"payment:notes\":\"yes\",\"brand:wikidata\":\"Q701755\",\"brand:wikipedia\":\"de:Edeka\",\"building:levels\":1,\"internet_access\":\"no\",\"addr:housenumber\":10,\"payment:girocard\":\"yes\",\"payment:contactless\":\"yes\",\"payment:credit_cards\":\"yes\",\"opening_hours:covid19\":\"same\"}},\"place_id\":\"51df9a66d838a325405958c61db7c5574840f00102f90194f45a2a000000009203054544454b41\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.818793070340176,48.685721292055575]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"E Neukauf Donauwörth\",\"housenumber\":\"8\",\"street\":\"Andreas-Mayr-Straße\",\"suburb\":\"Parkstadt\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.789312469234872,\"lat\":48.73373465,\"formatted\":\"E Neukauf Donauwörth, Andreas-Mayr-Straße 8, 86609 Donauwörth, Germany\",\"address_line1\":\"E Neukauf Donauwörth\",\"address_line2\":\"Andreas-Mayr-Straße 8, 86609 Donauwörth, Germany\",\"categories\":[\"building\",\"building.commercial\",\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details\",\"details.contact\",\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"E Neukauf Donauwörth\",\"shop\":\"supermarket\",\"phone\":\"+49 906 70924310\",\"osm_id\":128308841,\"building\":\"supermarket\",\"osm_type\":\"w\",\"addr:city\":\"Donauwörth\",\"wheelchair\":\"yes\",\"addr:street\":\"Andreas-Mayr-Straße\",\"addr:suburb\":\"Parkstadt\",\"addr:country\":\"DE\",\"addr:postcode\":86609,\"opening_hours\":\"Mo-Sa 08:00-19:00\",\"addr:housenumber\":8}},\"place_id\":\"5169d203d02094254059a45554ffea5d4840f00102f90169d6a5070000000092031545204e65756b61756620446f6e617577c3b6727468\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.789312839952986,48.73373405092141]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"ALDI Süd\",\"housenumber\":\"4\",\"street\":\"Kaiser-Karl-Straße\",\"suburb\":\"Riedlingen\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.756082494692937,\"lat\":48.71197225,\"formatted\":\"ALDI Süd, Kaiser-Karl-Straße 4, 86609 Donauwörth, Germany\",\"address_line1\":\"ALDI Süd\",\"address_line2\":\"Kaiser-Karl-Straße 4, 86609 Donauwörth, Germany\",\"categories\":[\"building\",\"building.commercial\",\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details\",\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"ALDI Süd\",\"shop\":\"supermarket\",\"brand\":\"ALDI Süd\",\"osm_id\":25660516,\"building\":\"yes\",\"osm_type\":\"w\",\"addr:city\":\"Donauwörth\",\"wheelchair\":\"yes\",\"addr:street\":\"Kaiser-Karl-Straße\",\"addr:country\":\"DE\",\"addr:postcode\":86609,\"opening_hours\":\"Mo-Sa 08:00-20:00\",\"brand:wikidata\":\"Q41171672\",\"brand:wikipedia\":\"en:Aldi\",\"addr:housenumber\":4}},\"place_id\":\"513b0ebf1219832540596766bf43205b4840f00102f901648c870100000000920309414c44492053c3bc64\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.756050668546882,48.711922138649975]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Netto Marken-Discount\",\"street\":\"B 16\",\"suburb\":\"Riedlingen\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.759000010609755,\"lat\":48.7104043,\"formatted\":\"Netto Marken-Discount, B 16, 86609 Donauwörth, Germany\",\"address_line1\":\"Netto Marken-Discount\",\"address_line2\":\"B 16, 86609 Donauwörth, Germany\",\"categories\":[\"building\",\"building.commercial\",\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details\",\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Netto Marken-Discount\",\"shop\":\"supermarket\",\"brand\":\"Netto Marken-Discount\",\"osm_id\":25660773,\"building\":\"yes\",\"osm_type\":\"w\",\"wheelchair\":\"yes\",\"opening_hours\":\"Mo-Sa 07:00-20:00\",\"brand:wikidata\":\"Q879858\",\"brand:wikipedia\":\"de:Netto Marken-Discount\"}},\"place_id\":\"5138266fd89b842540590f276902ef5a4840f00102f901658d8701000000009203154e6574746f204d61726b656e2d446973636f756e74\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.75900150639346,48.710418988555936]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Netto Marken-Discount\",\"housenumber\":\"31\",\"street\":\"Berger Vorstadt\",\"suburb\":\"Berg\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.779460799999999,\"lat\":48.724219899999994,\"formatted\":\"Netto Marken-Discount, Berger Vorstadt 31, 86609 Donauwörth, Germany\",\"address_line1\":\"Netto Marken-Discount\",\"address_line2\":\"Berger Vorstadt 31, 86609 Donauwörth, Germany\",\"categories\":[\"building\",\"building.commercial\",\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details\",\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Netto Marken-Discount\",\"shop\":\"supermarket\",\"brand\":\"Netto Marken-Discount\",\"osm_id\":129205390,\"building\":\"yes\",\"osm_type\":\"w\",\"addr:city\":\"Donauwörth\",\"wheelchair\":\"yes\",\"addr:street\":\"Berger Vorstadt\",\"addr:country\":\"DE\",\"addr:postcode\":86609,\"opening_hours\":\"Mo-Sa 07:00-20:00; PH off\",\"brand:wikidata\":\"Q879858\",\"brand:wikipedia\":\"de:Netto Marken-Discount\",\"addr:housenumber\":31}},\"place_id\":\"512a07697c158f254059d94ad83cb35c4840f00102f9018e84b307000000009203154e6574746f204d61726b656e2d446973636f756e74\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.779460799999999,48.72421989976073]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Norma\",\"housenumber\":\"13\",\"street\":\"Sallingerstraße\",\"suburb\":\"Berg\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.7709411,\"lat\":48.7258998,\"formatted\":\"Norma, Sallingerstraße 13, 86609 Donauwörth, Germany\",\"address_line1\":\"Norma\",\"address_line2\":\"Sallingerstraße 13, 86609 Donauwörth, Germany\",\"categories\":[\"commercial\",\"commercial.supermarket\"],\"details\":[\"details\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Norma\",\"shop\":\"supermarket\",\"brand\":\"Norma\",\"osm_id\":282915691,\"osm_type\":\"n\",\"addr:city\":\"Donauwörth\",\"addr:street\":\"Sallingerstraße\",\"addr:country\":\"DE\",\"addr:postcode\":86609,\"opening_hours\":\"Mo-Sa 07:00-20:00; PH off\",\"brand:wikidata\":\"Q450180\",\"brand:wikipedia\":\"de:Norma (Handelskette)\",\"addr:housenumber\":13}},\"place_id\":\"51d748b7cab88a2540595c12de48ea5c4840f00103f9016bf3dc10000000009203054e6f726d61\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.7709411,48.7258997997603]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Edeka\",\"street\":\"Dillinger Straße\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.767701561191336,\"lat\":48.716031,\"formatted\":\"Edeka, Dillinger Straße, 86609 Donauwörth, Germany\",\"address_line1\":\"Edeka\",\"address_line2\":\"Dillinger Straße, 86609 Donauwörth, Germany\",\"categories\":[\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details\",\"details.commercial\",\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Edeka\",\"shop\":\"supermarket\",\"brand\":\"Edeka\",\"level\":1,\"indoor\":\"room\",\"osm_id\":529047767,\"osm_type\":\"w\",\"wheelchair\":\"yes\",\"opening_hours\":\"Mo-Sa 07:00-20:00\",\"brand:wikidata\":\"Q701755\",\"brand:wikipedia\":\"de:Edeka\"}},\"place_id\":\"51e253799e0e89254059d758a3eaa65b4840f00102f901d7a0881f000000009203054564656b61\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.767689659414774,48.71603138900689]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Lidl\",\"housenumber\":\"2\",\"street\":\"Artur-Proeller-Straße\",\"suburb\":\"Riedlingen\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.760344014523781,\"lat\":48.71563375,\"formatted\":\"Lidl, Artur-Proeller-Straße 2, 86609 Donauwörth, Germany\",\"address_line1\":\"Lidl\",\"address_line2\":\"Artur-Proeller-Straße 2, 86609 Donauwörth, Germany\",\"categories\":[\"building\",\"building.commercial\",\"commercial\",\"commercial.supermarket\"],\"details\":[\"details\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Lidl\",\"shop\":\"supermarket\",\"brand\":\"Lidl\",\"osm_id\":772047791,\"building\":\"yes\",\"osm_type\":\"w\",\"addr:city\":\"Donauwörth\",\"addr:street\":\"Artur-Proeller-Straße\",\"addr:postcode\":86609,\"opening_hours\":\"Mo-Sa 07:00-20:00\",\"brand:wikidata\":\"Q151954\",\"brand:wikipedia\":\"en:Lidl\",\"addr:housenumber\":2}},\"place_id\":\"51e44bf0a94a8525405900e9fe6d9c5b4840f00102f901af83042e000000009203044c69646c\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.760335264761984,48.71571135470185]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Vitalia\",\"street\":\"Kaiser-Karl-Straße\",\"suburb\":\"Riedlingen\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.7556044,\"lat\":48.7110826,\"formatted\":\"Vitalia, Kaiser-Karl-Straße, 86609 Donauwörth, Germany\",\"address_line1\":\"Vitalia\",\"address_line2\":\"Kaiser-Karl-Straße, 86609 Donauwörth, Germany\",\"categories\":[\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details\",\"details.commercial\",\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Vitalia\",\"shop\":\"supermarket\",\"osm_id\":1579302530,\"organic\":\"only\",\"osm_type\":\"n\",\"wheelchair\":\"yes\",\"opening_hours\":\"Mo-Fr 09:00-19:00, Sa 09:00-16:00\"}},\"place_id\":\"51696d7594de82254059d65e2fc1045b4840f00103f901823e225e00000000920307566974616c6961\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.755604399999998,48.71108259976397]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Stadtladen Donauwörth\",\"housenumber\":\"8\",\"street\":\"Reichsstraße\",\"suburb\":\"Berg\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.7804646,\"lat\":48.7182777,\"formatted\":\"Stadtladen Donauwörth, Reichsstraße 8, 86609 Donauwörth, Germany\",\"address_line1\":\"Stadtladen Donauwörth\",\"address_line2\":\"Reichsstraße 8, 86609 Donauwörth, Germany\",\"categories\":[\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details\",\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Stadtladen Donauwörth\",\"shop\":\"general\",\"osm_id\":6312416259,\"operator\":\"Unser Stadtladen Reichsstraße Donauwörth UG (haftungsbeschränkt)\",\"osm_type\":\"n\",\"addr:city\":\"Donauwörth\",\"wheelchair\":\"yes\",\"addr:street\":\"Reichsstraße\",\"addr:postcode\":86609,\"opening_hours\":\"Mo-Fr 08:00-18:30; Sa 08:00-16:00; PH off\",\"addr:housenumber\":8}},\"place_id\":\"51165f590e998f2540595ef60e86f05b4840f00103f90103d43f780100000092031653746164746c6164656e20446f6e617577c3b6727468\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.780464599999998,48.7182776997622]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Kaufland\",\"street\":\"Neurieder Weg\",\"suburb\":\"Riedlingen\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.762833566106115,\"lat\":48.720002,\"formatted\":\"Kaufland, Neurieder Weg, 86609 Donauwörth, Germany\",\"address_line1\":\"Kaufland\",\"address_line2\":\"Neurieder Weg, 86609 Donauwörth, Germany\",\"categories\":[\"building\",\"building.commercial\",\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.limited\"],\"details\":[\"details\",\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Kaufland\",\"shop\":\"supermarket\",\"brand\":\"Kaufland\",\"osm_id\":25787542,\"building\":\"yes\",\"osm_type\":\"w\",\"wheelchair\":\"limited\",\"brand:wikidata\":\"Q685967\",\"brand:wikipedia\":\"en:Kaufland\"}},\"place_id\":\"511e68a14c91862540590375e1222a5c4840f00102f901967c8901000000009203084b6175666c616e64\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.762827295973747,48.72003589638373]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Oriental Market\",\"street\":\"Dillinger Straße\",\"suburb\":\"Riedlingen\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.7639069,\"lat\":48.717899200000005,\"formatted\":\"Oriental Market, Dillinger Straße, 86609 Donauwörth, Germany\",\"address_line1\":\"Oriental Market\",\"address_line2\":\"Dillinger Straße, 86609 Donauwörth, Germany\",\"categories\":[\"building\",\"building.commercial\",\"commercial\",\"commercial.supermarket\"],\"details\":[],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Oriental Market\",\"shop\":\"supermarket\",\"osm_id\":134139523,\"building\":\"yes\",\"osm_type\":\"w\"}},\"place_id\":\"51a26021ce1e87254059de66f81ee45b4840f00102f90183cefe070000000092030f4f7269656e74616c204d61726b6574\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.763906899999999,48.7178991997623]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Ibrahim Sürücü Lebensmittel\",\"street\":\"Am Zeisig\",\"suburb\":\"Berg\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.7789733,\"lat\":48.724481,\"formatted\":\"Ibrahim Sürücü Lebensmittel, Am Zeisig, 86609 Donauwörth, Germany\",\"address_line1\":\"Ibrahim Sürücü Lebensmittel\",\"address_line2\":\"Am Zeisig, 86609 Donauwörth, Germany\",\"categories\":[\"commercial\",\"commercial.supermarket\",\"wheelchair\",\"wheelchair.yes\"],\"details\":[\"details.facilities\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Ibrahim Sürücü Lebensmittel\",\"shop\":\"supermarket\",\"osm_id\":1921518024,\"osm_type\":\"n\",\"wheelchair\":\"yes\"}},\"place_id\":\"5116ea9f96d58e254059cf451ccbbb5c4840f00103f901c80988720000000092031e4962726168696d2053c3bc72c3bc63c3bc204c6562656e736d697474656c\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.7789733,48.72448099976065]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Bella Vita Biomarkt\",\"street\":\"Am Röthelfeld\",\"suburb\":\"Berg\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.7703057,\"lat\":48.7260411,\"formatted\":\"Bella Vita Biomarkt, Am Röthelfeld, 86609 Donauwörth, Germany\",\"address_line1\":\"Bella Vita Biomarkt\",\"address_line2\":\"Am Röthelfeld, 86609 Donauwörth, Germany\",\"categories\":[\"commercial\",\"commercial.supermarket\"],\"details\":[\"details.commercial\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Bella Vita Biomarkt\",\"shop\":\"supermarket\",\"osm_id\":5188592735,\"organic\":\"yes\",\"osm_type\":\"n\"}},\"place_id\":\"5142d83a82658a254059da822deaee5c4840f00103f9015fa443350100000092031342656c6c6120566974612042696f6d61726b74\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.770305699999998,48.72604109976028]}},{\"type\":\"Feature\",\"properties\":{\"name\":\"Mix Markt\",\"old_name\":\"Takko\",\"housenumber\":\"1\",\"street\":\"An der Westspange\",\"suburb\":\"Riedlingen\",\"city\":\"Donauwörth\",\"county\":\"Landkreis Donau-Ries\",\"state\":\"Bavaria\",\"postcode\":\"86609\",\"country\":\"Germany\",\"country_code\":\"de\",\"lon\":10.7607952,\"lat\":48.7180087,\"formatted\":\"Mix Markt, An der Westspange 1, 86609 Donauwörth, Germany\",\"address_line1\":\"Mix Markt\",\"address_line2\":\"An der Westspange 1, 86609 Donauwörth, Germany\",\"categories\":[\"commercial\",\"commercial.supermarket\"],\"details\":[\"details\"],\"datasource\":{\"sourcename\":\"openstreetmap\",\"attribution\":\"© OpenStreetMap contributors\",\"license\":\"Open Database Licence\",\"url\":\"https://www.openstreetmap.org/copyright\",\"raw\":{\"name\":\"Mix Markt\",\"shop\":\"supermarket\",\"brand\":\"Mix Markt\",\"osm_id\":7207382182,\"old_name\":\"Takko\",\"osm_type\":\"n\",\"addr:city\":\"Donauwörth\",\"addr:street\":\"An der Westspange\",\"addr:postcode\":86609,\"brand:wikidata\":\"Q327854\",\"brand:wikipedia\":\"de:Mix Markt\",\"addr:housenumber\":1}},\"place_id\":\"5155e8cdf2868525405977dc85b5e75b4840f00103f901a6ec97ad010000009203094d6978204d61726b74\"},\"geometry\":{\"type\":\"Point\",\"coordinates\":[10.760795199999999,48.71800869976226]}}]}\n";
            LocationMapper sm = new LocationMapper();
            List<Location> locations = sm.getStopsFromJSON(json);
            for(int i = 0; i < locations.size(); i++){
                Location s = locations.get(i);
                System.out.println(s.getName() + " " + s.getCoordX() + " " + s.getCoordY());
            }
        }catch(Exception e) {
            e.printStackTrace();
        }
    }

     */
}
